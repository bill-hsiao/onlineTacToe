#!/usr/bin/env node

const app = require('../app')
const debug = require('debug')('test:server')
const http = require('http').Server(app)
const port = process.env.PORT

const _io = require('socket.io')(http)


const Game = require('../lib/game/Game')
const newGame = (id) => {
  let instance = new Game(id)
  return instance
}
const io = require('../lib/network/io')(_io, newGame)








app.set('port', port);

 http.listen(port, function(){
   console.log('listening on *:' + port);
   io.init()
 })
